<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dsj.csp.manage.mapper.AbilityApiMapper">

    <resultMap id="BaseResultMap" type="com.dsj.csp.manage.entity.AbilityApiEntity">
        <id column="API_ID" property="apiId" />
        <result column="ABILITY_ID" property="abilityId" />
        <result column="API_NAME" property="apiName" />
        <result column="DESCRIPTION" property="description" />
        <result column="RECALL_LIMIT" property="recallLimit" />
        <result column="QPS" property="qps" />
        <result column="REQUEST_PARAM" property="requestParam" />
        <result column="RESPONSE_PARAM" property="responseParam" />
        <result column="PROTOCOL" property="protocol" />
        <result column="API_HOST" property="apiHost" />
        <result column="BASE_PATH" property="basePath" />
        <result column="API_URL" property="apiUrl" />
        <result column="API_VERSION" property="apiVersion" />
        <result column="IS_DELETE" property="isDelete" />
        <result column="CREATE_TIME" property="createTime" />
        <result column="UPDATE_TIME" property="updateTime" />
    </resultMap>

    <sql id="Base_Column_List">
        API_ID, ABILITY_ID, API_NAME, DESCRIPTION, RECALL_LIMIT, QPS,
        REQUEST_PARAM, RESPONSE_PARAM, PROTOCOL, API_HOST, BASE_PATH, API_URL,
        API_VERSION, IS_DELETE, CREATE_TIME, UPDATE_TIME
    </sql>

    <insert id="insertAbilityApi" parameterType="com.dsj.csp.manage.entity.AbilityApiEntity">
        INSERT INTO MANAGE_ABILITY_API (<include refid="Base_Column_List" />)
        VALUES (#{apiId}, #{abilityId}, #{apiName}, #{description}, #{recallLimit},
                #{qps}, #{requestParam}, #{responseParam}, #{protocol}, #{apiHost},
                #{basePath}, #{apiUrl}, #{apiVersion}, #{isDelete}, #{createTime}, #{updateTime})
    </insert>

    <update id="updateAbilityApi" parameterType="com.dsj.csp.manage.entity.AbilityApiEntity">
        UPDATE MANAGE_ABILITY_API
        SET ABILITY_ID = #{abilityId},
            API_NAME = #{apiName},
            DESCRIPTION = #{description},
            RECALL_LIMIT = #{recallLimit},
            QPS = #{qps},
            REQUEST_PARAM = #{requestParam},
            RESPONSE_PARAM = #{responseParam},
            PROTOCOL = #{protocol},
            API_HOST = #{apiHost},
            BASE_PATH = #{basePath},
            API_URL = #{apiUrl},
            API_VERSION = #{apiVersion},
            IS_DELETE = #{isDelete},
            UPDATE_TIME = #{updateTime}
        WHERE API_ID = #{apiId}
    </update>

    <delete id="deleteAbilityApi" parameterType="com.dsj.csp.manage.entity.AbilityApiEntity">
        DELETE FROM MANAGE_ABILITY_API
        WHERE API_ID = #{apiId}
    </delete>

    <select id="getAbilityApi" parameterType="java.lang.Long" resultMap="BaseResultMap">
        SELECT <include refid="Base_Column_List" />
        FROM MANAGE_ABILITY_API
        WHERE API_ID = #{apiId}
    </select>

</mapper>
